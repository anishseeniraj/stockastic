{% include "/partials/header.html.jinja" %}
    <h1>Customize Long Short-Term Memory model for {{ticker}}</h1>

    <p>
      Customize your {{ticker}} LSTM model by changing the 
      <ul>
        <li>Train-test split ratio for the dataset</li>
        <li>Number of units to use in each LSTM layer of the neural network </li>
        <li>Epochs</li>
      </ul>
    </p>

    <form action="/lstm/customize" method="POST">
      <p>
        <label
          >Enter the number of data points you want in your training set</label
        >
        <input type="number" placeholder="Ex. 777" name="split" />
      </p>

      <p>
        <label
          >Enter the number of units in each layer of the network</label
        >
        <input type="number" placeholder="Ex. 5" name="units" />
      </p>

      <p>
        <label
          >Enter the epochs</label
        >
        <input type="number" placeholder="Ex. 3" name="epochs">
        <div><i>
          Note that changing the epochs will have a considerable impact on the runtime of the algorithm (up to several minutes)
        </i></div>
      </p>

      <input type="hidden" name="ticker" value="{{ticker}}" />
      <input type="submit" />
    </form>

    <div class="chart" id="plot_lstm">
      <script>
        var graphs = {{lstm_plot | safe}};

        Plotly.plot("plot_lstm", graphs, {});
      </script>
    </div>

    <p>Current error (RMSE) - {{rmse}}</p>
    <p>Current training data points - {{split}}/1260</p>
    <p>Current number of units - {{units}}</p>
    <p>Current epochs - {{epochs}}</p>

    <a href="/{{ticker}}/lstm/predict/{{split}}/{{units}}/{{epochs}}">Make a prediction with this model</a>
{% include "/partials/footer.html.jinja" %}